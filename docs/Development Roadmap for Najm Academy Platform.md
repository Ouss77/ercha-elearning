# Development Roadmap for Najm Academy Platform

### Development Roadmap for Najm Academy Platform (Simplified & Detailed Version)

This updated roadmap enhances the previous simplified version by adding more granular subtasks, specific implementation notes (e.g., code snippets or patterns), resource recommendations (tutorials/docs for the beginner dev), risk mitigation strategies, weekly checkpoints, and dependencies between tasks. It maintains the focus on core academic features (user management, courses, learning/evaluation, certificates, and dashboards) without payments, videoconferencing, or private appointments. The tech stack remains the same: **Next.js**, **PostgreSQL**, **shadcn/ui**, **TailwindCSS**, **GitHub tools**, **Drizzle ORM**, **NextAuth.js**, **qrcode**, **React Query**, **Recharts**, **Nodemailer**, **Zod**, **Docker**, and **Vercel**.

The timeline is strictly **12 weeks** for 2 developers (senior + beginner). Effort estimates now include hours per subtask (assuming 40-hour weeks). Prioritize pair programming (2-3 hours/day) for beginner learning. Use GitHub Projects for task assignment (label "beginner-friendly" for UI tasks), Issues for bugs, and Actions for PR reviews. Weekly checkpoints: End-of-week demos via screen share; adjust based on progress. MVP goal: Functional free-access platform for in-person education with basic dashboards.

### Phase 1: Planning & Setup (Weeks 1-2)

Focus: Quick setup with emphasis on beginner onboarding. Include tutorials for key tools.

| Milestone                    | Tasks/Subtasks                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Implementation Notes                                                                                                                                                      | Dependencies                                                                     | Estimated Effort                                             | Success Criteria                                                          | Risks & Mitigation                                       |
| ---------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------------------- | -------------------------------------------------------- |
| **Project Initialization**   | - Create GitHub repo and set up branches (main, develop).<br>- Install Next.js with `npx create-next-app@latest` (TypeScript yes).<br>- Configure GitHub Actions: Add .github/workflows/ci.yml for lint (ESLint config: extend 'next/core-web-vitals'), test (Vitest setup: npm i vitest), and Vercel deploy.<br>- Add .gitignore, [README.md](http://readme.md/) with setup instructions.                                                                                                          | Use Vercel CLI for local preview: `vercel dev`. Beginner tutorial: Next.js docs ([nextjs.org/docs](http://nextjs.org/docs)).                                              | None                                                                             | 0.5 weeks (20 hours: 10 setup, 10 Actions)                   | Repo live; PR merges deploy to staging; actions pass on push.             | Git conflicts: Enforce PR reviews in GitHub settings.    |
| **Database & Schema Design** | - Install Drizzle: `npm i drizzle-orm pg drizzle-kit`.<br>- Define schema in drizzle/schema.ts (e.g., users: id serial, email varchar, role enum(['STUDENT', 'TRAINER', ...]); courses: id, title, chapters jsonb for simplicity).<br>- Run migrations: `npx drizzle-kit generate:pg` and `npx drizzle-kit migrate`.<br>- Seed data: Write script in drizzle/seed.ts (insert sample users/courses via db.insert).<br>- Add compliance fields: consentTimestamp timestamp, dataRetentionPolicy text. | Use Drizzle's relational queries for joins (e.g., enrollments link users to courses). Beginner tutorial: Drizzle docs (orm.drizzle.team).                                 | PostgreSQL Docker: `docker run -p 5432:5432 -e POSTGRES_PASSWORD=pass postgres`. | 1 week (40 hours: 20 schema, 10 migrate/seed, 10 compliance) | Schema applied; seeds run without errors; queries return data in console. | Schema changes break seeds: Version schema files in Git. |
| **Tech Stack Setup**         | - Add Tailwind: `npm i tailwindcss postcss autoprefixer`, init config.<br>- Install shadcn/ui: `npx shadcn-ui@latest init`, add components (e.g., button, card).<br>- Set up NextAuth: `npm i next-auth`, configure in api/auth/[...nextauth].ts (providers: Credentials).<br>- RBAC: Middleware in middleware.ts (check session.role).<br>- i18n: `npm i next-intl`, wrap app in providers.                                                                                                        | Example RBAC: `if (!session.role !== 'ADMIN') return NextResponse.redirect('/unauthorized')`. Beginner tutorial: shadcn/ui docs ([ui.shadcn.com](http://ui.shadcn.com/)). |                                                                                  |                                                              | 0.5 weeks (20 hours: 10 UI, 10 auth/i18n)                                 | Beginner (UI), Senior (auth)                             |

**Weekly Checkpoint (End of Week 2)**: Demo local app with DB connection. Risks: Delay if Docker issuesâ€”fallback to local PostgreSQL install.

### Phase 2: Core Infrastructure & User Management (Weeks 3-5)

Focus: Build auth and navigation; beginner takes more UI tasks with senior review.

| Milestone                          | Tasks/Subtasks                                                                                                                                                                                                                                                                                                                                                                     | Implementation Notes                                                                                                                                                | Dependencies | Estimated Effort                                             | Success Criteria                                                            | Risks & Mitigation                                    |
| ---------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------ | ------------------------------------------------------------ | --------------------------------------------------------------------------- | ----------------------------------------------------- |
| **User Management**                | - Registration page: /register with shadcn Form, Input; validate with Zod schema (e.g., z.object({email: z.string().email()})).<br>- Login: Similar form, integrate NextAuth signIn.<br>- Profile: /profile page with editable fields, upload photo (use FormData, store in public/uploads).<br>- Role assignment: Admin-only API endpoint to update user.role via Drizzle update. | Email verification: Use Nodemailer (`npm i nodemailer`) to send link. Example: transporter.sendMail({to: email, text: 'Verify'}). Beginner tutorial: NextAuth docs. | Auth setup   | 1 week (40 hours: 15 forms, 15 profile/API, 10 verification) | Register/login works; profile updates DB; emails send (test with Mailtrap). | Email setup fails: Use console logs as fallback.      |
| **Basic Navigation & Pages**       | - Layout: app/layout.tsx with shadcn Sidebar, conditional links by role.<br>- Vitrine pages: Static content in app/(public)/home.tsx, etc., with Tailwind classes (e.g., flex flex-col).<br>- Multilingual: Add locale switcher button, load messages from i18n/messages/en.json.                                                                                                  | Responsive: Use Tailwind md: , lg: breakpoints. Beginner tutorial: Tailwind docs ([tailwindcss.com](http://tailwindcss.com/)).                                      | UI setup     | 1 week (40 hours: 20 layout, 20 pages/i18n)                  | Pages load; sidebar hides routes by role; language switches text.           | i18n incomplete: Start with English, add FR/AR later. |
| **API Layer Foundations**          | - APIs: app/api/users/route.ts with GET/POST (Drizzle select/insert), protected by auth.<br>- Zod: Parse request body with schema.safeParse.<br>- Error: Custom error responses (e.g., {error: 'Invalid input'}).                                                                                                                                                                  | Example: export async function POST(req) { const body = await req.json(); const validated = userSchema.parse(body); await db.insert(users).values(validated); }     | Database     | 0.5 weeks (20 hours)                                         | APIs return data; validation errors handled; Postman tests pass.            | API security: Add rate limiting if time allows.       |
| **Security & Compliance Baseline** | - HTTPS: Vercel handles; local use http for dev.<br>- Encryption: Hash passwords with bcrypt (`npm i bcrypt`).<br>- Logging: Console for now; consent checkbox on register.<br>- Caching: React Query for user data fetches.                                                                                                                                                       | Beginner tutorial: React Query docs ([tanstack.com/query](http://tanstack.com/query)).                                                                              | All prior    | 0.5 weeks (20 hours)                                         | Passwords hashed; consent logged; pages load fast.                          | Compliance gaps: Review loi 09-08 checklist weekly.   |

**Weekly Checkpoint (End of Week 5)**: Full auth flow demo. Risks: Beginner bugs in UIâ€”daily code reviews.

### Phase 3: Academic Core Features (Weeks 6-9)

Focus: Core learning; simplify enrollments to manual/admin-driven.

| Milestone                         | Tasks/Subtasks                                                                                                                                                                                                                                                                                                                             | Implementation Notes                                                                                                                                                                                                      | Dependencies | Estimated Effort                                         | Success Criteria                                                | Risks & Mitigation                  |
| --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------ | -------------------------------------------------------- | --------------------------------------------------------------- | ----------------------------------- |
| **Catalogue & Course Management** | - Browse: /courses page with search (filter by title via Drizzle where).<br>- Trainer CRUD: Forms for create/update (upload files to public/uploads).<br>- Admin validate: Approval field in courses table, toggle API.<br>- Free access: Role check for view.                                                                             | Use shadcn Table for list view. Beginner tutorial: File uploads in Next.js ([nextjs.org/docs/app/building-your-application/routing/api-routes](http://nextjs.org/docs/app/building-your-application/routing/api-routes)). | User mgmt    | 1.5 weeks (60 hours: 20 browse, 30 CRUD, 10 validate)    | Courses listed/searched; Trainer adds chapters; Admin approves. | Upload size issues: Limit to 10MB.  |
| **Enrollments & Learning**        | - Manual enroll: Admin/Sub-admin form to assign user to course.<br>- Progress: DB field progress float; update on quiz complete (React Query mutate).<br>- Access: Conditional render chapters if enrolled.<br>- Quizzes: Form for questions, auto-grade MCQs via JS logic, manual for open.<br>- Feedback: Comments field in enrollments. | Example progress: useEffect to fetch/update via API. Beginner tutorial: React Query mutations.                                                                                                                            | Courses      | 1.5 weeks (60 hours: 20 enroll, 20 quizzes, 20 feedback) | Enroll assigns; quizzes score; progress % shows.                | Grading bugs: Unit test quiz logic. |
| **Certificates & Verification**   | - Generate: On 100% progress, API creates PDF (use pdf-lib `npm i pdf-lib`) with QR (qrcode.toDataURL).<br>- Verify: Public /verify page scans hash.<br>- Auto-issue: Cron-like (setInterval in server action) or on-complete hook.                                                                                                        | Example QR: const qr = await qrcode.toDataURL(hash); embed in PDF. Beginner tutorial: pdf-lib docs.                                                                                                                       | Enrollments  | 0.5 weeks (20 hours)                                     | Cert PDF downloads; QR links to verify page.                    | QR security: Use UUID for hash.     |
| **Testing Setup**                 | - Unit: Vitest for utils (e.g., gradeQuiz fn).<br>- E2E: Playwright (`npm i @playwright/test`) for enroll/quiz flow.<br>- Actions: Add test step in CI.                                                                                                                                                                                    | Beginner tutorial: Playwright docs (playwright.dev).                                                                                                                                                                      | All prior    | 0.5 weeks (20 hours)                                     | Tests cover 70%; CI passes.                                     | Test flakes: Run locally first.     |

**Weekly Checkpoint (End of Week 9)**: Course creation/enrollment demo. Risks: DB perfâ€”add indexes on frequent queries.

### Phase 4: Dashboards, Polish, & Launch (Weeks 10-12)

Focus: UIs and final touches; beginner handles polish.

| Milestone                  | Tasks/Subtasks                                                                                                                                                                                                                                                                                                               | Implementation Notes                                                                                                 | Dependencies   | Estimated Effort                                         | Success Criteria                                                | Risks & Mitigation                                |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- | -------------- | -------------------------------------------------------- | --------------------------------------------------------------- | ------------------------------------------------- |
| **Dashboards & Reporting** | - Admin: Recharts LineChart for completion rates; Drizzle aggregates (e.g., db.select({count: count()}).from(users)).<br>- Sub-Admin: Table for local stats (filter by school if added).<br>- Trainer: BarChart for quiz results.<br>- Student: Progress radial chart.<br>- Notifications: Nodemailer for completion emails. | Install Recharts: `npm i recharts`. Example: <LineChart data={kpiData} />. Beginner tutorial: Recharts docs.         | Reporting data | 1.5 weeks (60 hours: 15 per dashboard, 15 notifications) | Dashboards render data; filters work; emails send.              | Data accuracy: Mock data for tests.               |
| **Compliance & Polish**    | - Consent: API for export/delete user data (Drizzle delete).<br>- Audit: Log actions in DB table.<br>- Accessibility: Add aria-label to shadcn components.<br>- Responsiveness: Test on devices; fix with Tailwind.<br>- Multi-lang: Translate key strings.                                                                  | Beginner tutorial: Accessibility in React ([reactjs.org/docs/accessibility](http://reactjs.org/docs/accessibility)). | All            | 0.5 weeks (20 hours)                                     | Data delete clears DB; pages accessible (Lighthouse score >80). | Time overrun: Prioritize delete over full export. |
| **Testing & Deployment**   | - Regression: Run all tests.<br>- Security: npm audit fix; manual RBAC check.<br>- Docker: Dockerfile for app (FROM node:18, COPY ., npm run build).<br>- Deploy: Vercel prod via Actions.<br>- Monitoring: Add Sentry (`npm i @sentry/nextjs`).                                                                             | Beginner tutorial: Docker for Next.js ([docker.com](http://docker.com/)).                                            | All features   | 0.5 weeks (20 hours)                                     | Tests pass; deploy succeeds; errors logged.                     | Deploy fails: Test staging first.                 |
| **Launch & Handover**      | - Beta: Invite 5-10 testers.<br>- Docs: README with setup, API endpoints.<br>- Plan: GitHub Issues for v2 (e.g., add payments later).                                                                                                                                                                                        | -                                                                                                                    | Deployment     | 0.5 weeks (20 hours)                                     | Site live; testers enroll; guide complete.                      | Bugs post-launch: Hotfix branch.                  |
